CREATE FUNCTION city_geo(varchar(25)) RETURNS geometry AS $$
	SELECT way FROM planet_osm_polygon
	WHERE boundary = 'administrative' AND name = $1
$$ LANGUAGE SQL;

SELECT * FROM city_geo('Bratislava');

SELECT ST_AsGeoJSON(i.*) FROM ( 
SELECT ST_AsGeoJSON(ST_BUFFER(p.way::geography, 10)) FROM planet_osm_polygon p
WHERE building != ''
AND ST_CONTAINS(
	(SELECT * FROM city_geo('Bratislava')), p.way
)
LIMIT 100
    ) AS i;
